stages:
  test:
    spa_deploy:
      verbose: true

      path: ./app
      include_glob: "**"
      ignore_glob:

      # target
      s3_endpoint: http://localhost:9090
      s3_region: foobar
      s3_bucket: deploy-bucket
      s3_prefix:
      s3_acl: "public-read"
      # remove all not found locally
      s3_purge: false
      # force replace all
      s3_force: false
      # files to not cache and invalidate by default
      # includes spa_index
      s3_invalidate_glob:

      # invalidations
      cloudfront_id:
      # extra paths to invalidate
      # invalidate_glob already handles known files
      cloudfront_invalidate_paths:

    # injected into process.env
    environment:
      # this should not be committed to git!
      AWS_ACCESS_KEY_ID: foobar
      AWS_SECRET_ACCESS_KEY: foobar

    spa_index: index.html
    spa_env:
      # APP_STAGE: automatic via stage
      # APP_VERSION: automatic via appVersion option
      # APP_RELEASE: automatic via git

    slack_notify:
      channel: C03AXDS9F2B
      autolink_prefix: SP-
      autolink_target: https://github.com/poviolabs/spa-deploy-cli/issues/
      commit_prefix: https://github.com/poviolabs/spa-deploy-cli/commit/
      project_name: ECS-Deploy
